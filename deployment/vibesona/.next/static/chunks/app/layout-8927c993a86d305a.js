(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104,177],{283:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AuthProvider:()=>c});var r=s(5155),a=s(2115),i=s(5404),n=s(6104);let o=(0,a.createContext)(void 0);function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>(console.log("AuthContext: Setting up auth listener"),(0,i.hg)(n.auth,e=>{console.log("AuthContext: Auth state changed",e?"User logged in: ".concat(e.email):"No user"),l(e),d(!1)})),[]),(0,r.jsx)(o.Provider,{value:{currentUser:s,login:function(e,t){return(0,i.signInWithEmailAndPassword)(n.auth,e,t)},signup:function(e,t){return(0,i.createUserWithEmailAndPassword)(n.auth,e,t)},logout:function(){return(0,i.CI)(n.auth)},resetPassword:function(e){return(0,i.sendPasswordResetEmail)(n.auth,e)},loading:c},children:t})}},347:()=>{},1798:(e,t,s)=>{"use strict";s.d(t,{NavBar:()=>c});var r=s(5155),a=s(2115),i=s(283),n=s(6874),o=s.n(n),l=s(5695);function c(){let{currentUser:e,logout:t,loading:s}=(0,i.A)(),[n,c]=(0,a.useState)(!1),d=(0,l.useRouter)();console.log("NavBar render:",{currentUser:null==e?void 0:e.email,loading:s}),(0,a.useEffect)(()=>{let e=e=>{n&&c(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[n]);let h=async()=>{try{await t(),d.push("/")}catch(e){console.error("Error signing out:",e)}};return(0,r.jsx)("nav",{className:"sticky top-0 z-40 border-b border-white/10 bg-black/20 backdrop-blur-xl",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)(o(),{href:"/",className:"flex items-center gap-2 font-semibold text-white tracking-wide hover:text-purple-300 transition-colors",children:[(0,r.jsx)("img",{src:"/brand/vibesona-logo.png",alt:"Vibesona",className:"w-8 h-8 object-contain"}),(0,r.jsx)("span",{children:"Vibesona"})]}),(0,r.jsxs)("div",{className:"text-sm text-white/80 flex gap-4",children:[(0,r.jsx)(o(),{href:"/playlist",className:"hover:text-white transition-colors",children:"Analyzer"}),(0,r.jsx)(o(),{href:"/playlists",className:"hover:text-white transition-colors",children:"Playlists"}),(0,r.jsx)(o(),{href:"/studio",className:"hover:text-white transition-colors",children:"Studio"}),(0,r.jsx)(o(),{href:"/submissions",className:"hover:text-white transition-colors",children:"Submissions"}),(0,r.jsx)(o(),{href:"/tokens",className:"hover:text-white transition-colors",children:"Tokens"})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:s?(0,r.jsx)("div",{className:"text-sm text-white/60",children:"Loading..."}):e?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm text-white/80 hidden md:block",children:e.email}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),c(!n)},className:"p-2 text-white hover:text-purple-300 transition-colors rounded-lg hover:bg-white/10",title:"Settings",children:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),n&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-black/90 backdrop-blur-xl border border-white/20 rounded-xl shadow-2xl z-50",children:(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-300 border-b border-white/10",children:[(0,r.jsx)("div",{className:"font-medium text-white",children:e.email}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Account"})]}),(0,r.jsx)("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-white/10 transition-colors",children:"Sign Out"})]})})]})]}):(0,r.jsx)(o(),{href:"/login",className:"px-4 py-2 text-sm bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white rounded-lg transition-all duration-200 shadow-lg",children:"Login"})})]})})}},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6104:(e,t,s)=>{"use strict";s.d(t,{auth:()=>o});var r=s(6296),a=s(1906),i=s(5404);let n=(0,r.Wp)({apiKey:"AIzaSyDoyM2-CpUUSXzNAYUICutB3YrVXe48u6Q",authDomain:"vibe-sona.firebaseapp.com",projectId:"vibe-sona",storageBucket:"vibe-sona.firebasestorage.app",messagingSenderId:"136987715238",appId:"1:136987715238:web:af3b1b6917e9ebc2d13667",measurementId:"G-BTCSMYLYR6"}),o=(0,i.xI)(n);(0,a.P5)(n)},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},9653:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4147,23)),Promise.resolve().then(s.t.bind(s,8489,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,1798)),Promise.resolve().then(s.bind(s,283))}},e=>{e.O(0,[896,965,404,874,648,441,964,358],()=>e(e.s=9653)),_N_E=e.O()}]);