(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{3741:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var i=s(5155);function l(e){let{variant:t="primary",className:s="",...l}=e;return(0,i.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({primary:"bg-gradient-to-r from-[#7C3AED] via-[#2563EB] to-[#06B6D4] text-white shadow-[0_0_0_1px_rgba(255,255,255,0.15)] hover:opacity-95 focus-visible:ring-[#7C3AED]",glass:"backdrop-blur bg-white/10 dark:bg-white/5 text-white border border-white/15 hover:bg-white/15",outline:"border border-white/20 text-white/90 hover:bg-white/10"}[t]," ").concat(s),...l})}},3915:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var i=s(5155);let l=(0,s(2115).forwardRef)(function(e,t){let{className:s="",...l}=e;return(0,i.jsx)("input",{ref:t,className:"w-full rounded-md border border-white/15 bg-white/10 text-white placeholder:text-white/40 px-3 py-2 outline-none focus:ring-2 focus:ring-[#7C3AED]/40 ".concat(s),...l})})},4611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(5155),l=s(2115),r=s(3915),a=s(3741);function n(e){let{children:t,className:s=""}=e;return(0,i.jsx)("div",{className:"rounded-xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-[inset_0_1px_0_0_rgba(255,255,255,0.2)] ".concat(s),children:t})}function c(e){let{children:t,className:s=""}=e;return(0,i.jsx)("div",{className:"px-5 pt-5 ".concat(s),children:t})}function o(e){let{children:t,className:s=""}=e;return(0,i.jsx)("div",{className:"px-5 pb-5 ".concat(s),children:t})}function d(){let[e,t]=(0,l.useState)(""),[s,d]=(0,l.useState)(null),[h,x]=(0,l.useState)(null),[u,p]=(0,l.useState)(!1),m=async()=>{p(!0),x(null),d(null);try{let t=(e=>{try{if(e.includes("open.spotify.com/playlist/")){let t=new URL(e).pathname.split("/").filter(Boolean),s=t.indexOf("playlist");if(s>=0&&t[s+1])return t[s+1]}return e}catch(t){return e}})(e),s=await fetch("/api/playlist/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlistId:t})}),i=await s.json();if(!s.ok)throw Error(i.error||"Unknown error");d(i)}catch(e){x(e.message)}finally{p(!1)}};return(0,i.jsxs)("div",{className:"relative max-w-3xl mx-auto p-6 space-y-6",children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold",children:"Playlist Analyzer"}),(0,i.jsx)(n,{className:"glass",children:(0,i.jsxs)(o,{className:"pt-5 pb-5 space-y-3",children:[(0,i.jsx)(r.p,{value:e,onChange:e=>t(e.target.value),placeholder:"Paste Spotify playlist link or ID"}),(0,i.jsx)(a.$,{onClick:m,disabled:u||!e,children:u?"Analyzing...":"Analyze"}),h&&(0,i.jsx)("p",{className:"text-red-400 text-sm",children:h})]})}),s&&(0,i.jsxs)(n,{className:"glass",children:[(0,i.jsx)(c,{children:(0,i.jsx)("h2",{className:"text-lg font-medium",children:"Results"})}),(0,i.jsxs)(o,{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-white/60",children:"Track Count"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:s.trackCount})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-white/60",children:"Average Popularity"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:s.averagePopularity})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-white/60",children:"Added Within 30 Days"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:s.addedWithin30Days})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-white/60",children:"Suspected Bots Score"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:s.suspectedBotsScore})]})]})]})]})}},6197:(e,t,s)=>{Promise.resolve().then(s.bind(s,4611))}},e=>{e.O(0,[441,964,358],()=>e(e.s=6197)),_N_E=e.O()}]);